# SED - Semantic Entropy Differencing

[![CI](https://github.com/iamthegreatdestroyer/SED/actions/workflows/ci.yml/badge.svg)](https://github.com/iamthegreatdestroyer/SED/actions/workflows/ci.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![npm version](https://badge.fury.io/js/@sed%2Fcore.svg)](https://badge.fury.io/js/@sed%2Fcore)

> **Intelligent code change analysis using information theory**

SED (Semantic Entropy Differencing) transforms how you understand code changes by measuring their semantic complexity, not just their size. Using information theory principles, SED quantifies the "cognitive weight" of each modification, helping teams make smarter decisions about code review, testing priorities, and release risk.

## âœ¨ Features

- ğŸ§® **Entropy-Based Analysis** - Measures semantic complexity using information theory
- ğŸ¯ **Smart Classification** - Categorizes changes from trivial to critical
- ğŸ” **Language Aware** - Understands syntax and semantics across 20+ languages
- âš¡ **Blazing Fast** - Sub-millisecond analysis per file
- ğŸ› ï¸ **Multiple Interfaces** - CLI, VS Code extension, GitHub Action, Web dashboard
- ğŸ“Š **Rich Reporting** - JSON, Markdown, and visual reports

## ğŸš€ Quick Start

### CLI Installation

```bash
npm install -g @sed/cli
```

### Analyze Your Changes

```bash
# Analyze uncommitted changes
sed analyze

# Compare branches
sed compare main feature/new-auth

# Watch mode for development
sed watch
```

### VS Code Extension

Install "SED - Semantic Entropy" from the VS Code marketplace for real-time entropy visualization.

### GitHub Action

```yaml
- uses: sed/action@v1
  with:
    fail-on: high
```

## ğŸ“– Documentation

Full documentation is available at [sed.dev](https://sed.dev) (or run `pnpm docs:dev` locally).

## ğŸ—ï¸ Project Structure

This is a monorepo managed with [Turborepo](https://turbo.build/repo) and [pnpm](https://pnpm.io/).

```
sed/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ cli/          # Command-line interface (@sed/cli)
â”‚   â”œâ”€â”€ vscode/       # VS Code extension (@sed/vscode)
â”‚   â”œâ”€â”€ web/          # Web dashboard (@sed/web)
â”‚   â””â”€â”€ action/       # GitHub Action (@sed/action)
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/         # Core analysis engine (@sed/core)
â”‚   â”œâ”€â”€ git/          # Git integration (@sed/git)
â”‚   â”œâ”€â”€ shared/       # Shared utilities (@sed/shared)
â”‚   â””â”€â”€ config/       # Shared configurations (@sed/config)
â”œâ”€â”€ docs/             # VitePress documentation
â””â”€â”€ scripts/          # Build and development scripts
```

## ğŸ› ï¸ Development

### Prerequisites

- Node.js 18+
- pnpm 8+

### Setup

```bash
# Clone the repository
git clone https://github.com/iamthegreatdestroyer/SED.git
cd SED

# Install dependencies
pnpm install

# Build all packages
pnpm build

# Run tests
pnpm test

# Start development mode
pnpm dev
```

### Available Scripts

| Command | Description |
|---------|-------------|
| `pnpm build` | Build all packages and apps |
| `pnpm dev` | Start development servers |
| `pnpm test` | Run all tests |
| `pnpm lint` | Lint all code |
| `pnpm typecheck` | Type check all packages |
| `pnpm clean` | Clean build artifacts |
| `pnpm docs:dev` | Start documentation dev server |

### Building Specific Packages

```bash
# Build only the core package
pnpm turbo run build --filter=@sed/core

# Build the CLI and its dependencies
pnpm turbo run build --filter=@sed/cli...
```

## ğŸ“¦ Packages

| Package | Description | npm |
|---------|-------------|-----|
| [@sed/core](./packages/core) | Core entropy analysis engine | [![npm](https://img.shields.io/npm/v/@sed/core)](https://www.npmjs.com/package/@sed/core) |
| [@sed/git](./packages/git) | Git integration utilities | [![npm](https://img.shields.io/npm/v/@sed/git)](https://www.npmjs.com/package/@sed/git) |
| [@sed/cli](./apps/cli) | Command-line interface | [![npm](https://img.shields.io/npm/v/@sed/cli)](https://www.npmjs.com/package/@sed/cli) |
| [@sed/shared](./packages/shared) | Shared utilities | Internal |
| [@sed/config](./packages/config) | Shared configurations | Internal |

## ğŸ”¬ How It Works

SED calculates **semantic entropy** - a measure of how much "information" is added, modified, or removed by a code change:

1. **Parse** the code change using language-specific parsers
2. **Extract** semantic elements (functions, classes, statements)
3. **Weight** each element based on its cognitive complexity
4. **Calculate** information-theoretic entropy
5. **Classify** the change based on configurable thresholds

### Example Output

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SED Analysis Results                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Files Analyzed: 12                                              â”‚
â”‚ Total Entropy: 847.3                                            â”‚
â”‚ Classification: MEDIUM                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ File                        â”‚ Entropy â”‚ Level    â”‚ Risk        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ src/auth/login.ts           â”‚ 423.1   â”‚ HIGH     â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  â”‚
â”‚ src/utils/helpers.ts        â”‚ 156.2   â”‚ MEDIUM   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  â”‚
â”‚ src/types/user.ts           â”‚ 89.4    â”‚ LOW      â”‚ â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â”‚ README.md                   â”‚ 12.1    â”‚ TRIVIAL  â”‚ â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›ï¸ Configuration

Create a `sed.config.json` in your project root:

```json
{
  "include": ["src/**/*"],
  "exclude": ["**/*.test.ts", "**/node_modules/**"],
  "thresholds": {
    "trivial": 50,
    "low": 150,
    "medium": 400,
    "high": 800
  },
  "failOn": "critical"
}
```

See [Configuration Guide](https://sed.dev/guide/configuration) for all options.

## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.

### Development Process

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes
4. Run tests (`pnpm test`)
5. Commit your changes (`git commit -m 'feat: add amazing feature'`)
6. Push to the branch (`git push origin feature/amazing-feature`)
7. Open a Pull Request

### Commit Convention

We use [Conventional Commits](https://www.conventionalcommits.org/):

- `feat:` New features
- `fix:` Bug fixes
- `docs:` Documentation changes
- `chore:` Maintenance tasks
- `test:` Test changes
- `refactor:` Code refactoring

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- [Information Theory](https://en.wikipedia.org/wiki/Information_theory) concepts by Claude Shannon
- [Turborepo](https://turbo.build/repo) for monorepo management
- [Tree-sitter](https://tree-sitter.github.io/tree-sitter/) for parsing

---

<p align="center">
  <strong>SED - Semantic Entropy Differencing</strong><br>
  <em>Understand your code changes at a deeper level</em>
</p>

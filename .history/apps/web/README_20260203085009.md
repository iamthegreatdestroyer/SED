# SED Web Dashboard

Web-based dashboard for visualizing Semantic Entropy Differencing analysis results.

## Features

- **Real-time Analysis Dashboard** - View entropy analysis results with interactive charts
- **File Browser** - Browse analyzed files with classification badges
- **History View** - Track analysis history over time
- **Export Reports** - Export results as JSON, Markdown, or HTML
- **Dark Mode** - Automatic theme detection with manual toggle

## Tech Stack

- **Next.js 14** - React framework with App Router
- **Tailwind CSS** - Utility-first styling
- **Recharts** - Data visualization
- **Zustand** - State management
- **Radix UI** - Accessible component primitives

## Getting Started

### Prerequisites

- Node.js 18+
- pnpm 8.15+

### Installation

```bash
# From monorepo root
pnpm install

# Run development server
pnpm --filter @sed/web dev
```

### Available Scripts

```bash
# Development
pnpm dev          # Start development server on port 3000

# Build
pnpm build        # Build for production
pnpm start        # Start production server

# Testing
pnpm test         # Run tests
pnpm test:watch   # Run tests in watch mode
pnpm coverage     # Run tests with coverage

# Linting
pnpm lint         # Run ESLint
pnpm typecheck    # Run TypeScript type checking
```

## Project Structure

```
apps/web/
├── src/
│   ├── app/               # Next.js App Router pages
│   │   ├── api/           # API routes
│   │   ├── layout.tsx     # Root layout
│   │   ├── page.tsx       # Home page
│   │   └── globals.css    # Global styles
│   ├── components/
│   │   ├── dashboard/     # Dashboard components
│   │   └── layout/        # Layout components
│   ├── hooks/             # React hooks
│   ├── lib/               # Utility functions
│   ├── stores/            # Zustand stores
│   ├── types/             # TypeScript types
│   └── tests/             # Test files
├── public/                # Static assets
├── next.config.js         # Next.js configuration
├── tailwind.config.ts     # Tailwind configuration
└── vitest.config.ts       # Vitest configuration
```

## API Routes

### POST /api/analyze

Analyze commits and return entropy data.

```typescript
// Request
{
  from?: string;  // Start commit (default: HEAD~1)
  to?: string;    // End commit (default: HEAD)
  path?: string;  // Path filter
}

// Response
{
  success: boolean;
  data: {
    files: FileAnalysisResult[];
    summary: AnalysisSummary;
  }
}
```

### POST /api/export

Export analysis results in various formats.

```typescript
// Request
{
  format: 'json' | 'markdown' | 'html';
  includeDetails?: boolean;
}

// Response: File download
```

## Components

### Dashboard Components

- **DashboardContent** - Main content area with tabs
- **SummaryCards** - Overview statistics cards
- **EntropyChart** - Bar chart of entropy by file
- **FileList** - Sortable, filterable file table

### Layout Components

- **Header** - Top navigation with theme toggle
- **Sidebar** - Navigation and analysis controls

## State Management

Uses Zustand for global state:

```typescript
interface AnalysisState {
  analysisResult: AnalysisResult | null;
  isLoading: boolean;
  error: string | null;
  history: AnalysisResult[];
  
  runAnalysis: (options: AnalysisOptions) => Promise<void>;
  clearHistory: () => void;
}
```

## Styling

Uses Tailwind CSS with CSS custom properties for theming:

```css
/* Light theme */
--background: 0 0% 100%;
--foreground: 0 0% 3.9%;
--primary: 221.2 83.2% 53.3%;

/* Dark theme */
.dark {
  --background: 0 0% 3.9%;
  --foreground: 0 0% 98%;
}
```

### Classification Colors

| Classification | Color |
|---------------|-------|
| Trivial | Green (#10b981) |
| Low | Blue (#3b82f6) |
| Medium | Amber (#f59e0b) |
| High | Orange (#f97316) |
| Critical | Red (#ef4444) |

## License

MIT © Stevo (sgbilod)
